\documentclass[letterpaper, 10pt]{article}
\usepackage{amsfonts,amsmath,amssymb, amsthm}
\usepackage{mathtools}
\usepackage{enumitem}

\setlength{\parindent}{0pt}

\theoremstyle{definition}
% Numbered theorems
\newtheorem{thm}{Theorem}[section]
\newtheorem{cor}[thm]{Corollary}
\newtheorem{lem}{Lemma}
\newtheorem{define}[thm]{Definition}
% Unnumbered theorems
\newtheorem*{thm*}{Theorem}
\newtheorem*{define*}{Definition}
\newtheorem*{lem*}{Lemma}

\input{/home/alex/math/template.sty}

% Print an arithmetic sequence
\def\mysign#1{%
	\ifodd#1 + 
	\else -
	\fi
}

\def\tseq#1#2#3{
% 1:= the first term
% 2:= total number of terms
% 3:= the difference
    \newcount\i
    \newcount\loopindex
    \loopindex=0
    \i=#1
    \loop
    \advance\loopindex by 1
    \number\i
    \advance\i by #3 
    \ifnum\loopindex<#2
   	+ 
    \repeat
}

\def\vseq#1#2#3{
% 1:= the first term
% 2:= total number of terms
% 3:= the difference
    \newcount\i
    \newcount\loopindex
    \loopindex=0
    \i=#1
    \loop
    \advance\loopindex by 1
    \number\i
    \advance\i by #3 
    \ifnum\loopindex<#2
   	\mysign\loopindex 
    \repeat
}

\begin{document}
\begin{lem}\label{lem:1}
	Let $a,b, m, n$ be integers, such that $m,n \neq 0$.
	If $a$ is divisible by $m$ and $b$ is divisible by $n$, then the product
	$a\cdot b$ is divisible by $m \cdot n$.
\end{lem}

\begin{lem}\label{lem:2}
	Let $a,b,m$ be integers, such that $m \neq 0$. If both $a$ and $b$ are
	divisible by $m$, then the sum $a + b$ is divisible by $m$.
\end{lem}

\begin{lem}\label{div}
	Let $n$ be an integer. The integer $n$ is divisible by $3$ if the sum of its
	digits is divisible by $3$.
\end{lem}

\def\seqone#1{\underbrace{111\ldots111}_{3^{#1}}}

\begin{thm*}
	For all integers $n \ge 1$, each number of the form
	$\underbrace{111\ldots111}_{3^n}$ is divisible by $3^n$.
\end{thm*}

\begin{proof} We prove the theorem by the principle of mathematical induction.
	\begin{itemize}[wide, labelwidth=!, labelindent=0pt]
	\item \emph{Base case.}\quad
		For $n = 1$, the number $111$ is divisible by $3$ (Lemma \ref{div}). This
		completes the base case.
	\item \emph{Inductive step.}\quad
		Suppose for the inductive hypothesis that the number
		$\underbrace{111\ldots111}_{3^k}$ is divisible by $3^k$, for some $k \ge
		1$. Now consider the number $\underbrace{111\ldots111}_{3^{k+1}}$.
		We can express it as the sum below 
	\begin{align*}
		\seqone{k+1} &= \seqone{k} \cdot 10^{3k+1} + \seqone{k} \cdot 10^{3k} +
		\seqone{k}\\
		&= \seqone{k} \cdot (10^{3k+1} + 10^{3k} + 1)\\
	\end{align*}
			Since $\seqone{k}$ is divisible by $3^k$ (Inductive hypothesis) and the
		expression inside the parentheses is divisible by $3$ (Lemma
			\ref{div}), therefore their product is divisible by $3 \cdot 3^k =
			3^{k+1}$ (Lemma \ref{lem:1}), and it means that $\seqone{k+1}$ is
			divisible by $3$. This completes the inductive step.
\end{itemize}
	Consequently, by the principle of mathematical induction the theorem follows.
\end{proof}
\end{document}
